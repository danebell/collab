####################
# DEPENDENCY RULES #
####################

- name: "${label}-syntax-noun-team-1"
  example: "A   team   of   resource   professionals,   including representatives  from  the Cape  Fear  River  Watch and  UNC  Wilmington conducted  a  follow-up  field investigation of the identified degradation issues."
  example: "A team including UNC and the FDA."
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^N/] | [lemma=/^(${trigger})/ & tag=/^J/] [lemma=effort]
    actor:Entity+ = >/nmod_(of|between)/? >/nmod_(from|including)/{,2} /${continuance}/{,2}

- name: "${label}-syntax-noun-talks-between-1"
  example: "Cooperation between the City of Wilmington and CFRW continues regarding maintenance of public BMPs."
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^N/]
    actor:Entity+ = >nmod_between >nmod_of? /${continuance}/{,2}

- name: "${label}-syntax-verb-represent-1a"
  example: "Participants represented the National Drought Mitigation Center and NIDIS."
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = (?<= [lemma=participant]) [lemma=/^represent$/ & tag=/^V/]
    actor:Entity+ = >dobj /${continuance}/{,2}

- name: "${label}-syntax-verb-represent-1b"
  example: "The National Drought Mitigation Center and NIDIS were represented."
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=represent & tag=/^VB[DN]/]
    actor:Entity+ = >nsubjpass /${continuance}/{,2}

- name: "${label}-syntax-verb-with-1"
  example: "DCM  is  also working with  FEMA, the NSF, and Governor  Kilgrave"
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^V/]
    actor1:Entity+ = (<xcomp /${pos_verbs}/)? (>nsubj|<acl) /${continuance}/{,2}
    actor2:Entity+ = >nmod_with /${continuance}/{,2}

- name: "${label}-syntax-verb-1"
  example: "She is a member  of  the  Science  Panel  on  Coastal  Hazards, which  advises  the  CRC  and  DCM"
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^V/]
    actor1:Entity+ = (<xcomp /${pos_verbs}/)? >nsubj (<nmod_of [lemma=member] >nsubj)? /${continuance}/{,2}
    actor2:Entity+ = >dobj /${continuance}/{,2}

- name: "${label}-syntax-verb-2"
  example: "She is a member  of  the  CRC, which is advised by the Science  Panel  on  Coastal  Hazards"
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^V/]
    actor1:Entity+ = >/nmod_(by|agent)/ /${continuance}/{,2}
    actor2:Entity+ = (<xcomp /${pos_verbs}/)? >/nsubj(pass)?/ (<nmod_of [lemma=member] >nsubj)? /${continuance}/{,2}

- name: "${label}-syntax-verb-3"
  example: "DCM  and FEMA are working together to kill the moon"
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^V/]
    actor:Entity+ = (<xcomp /${pos_verbs}/)? >nsubj /${continuance}/{,2}

- name: "${label}-syntax-verb-4"
  example: "A study was performed by BAE for NCDENR"
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^V/]
    actor1:Entity+ = (<xcomp /${pos_verbs}/)? (>/nmod_agent|nmod_by/)? >nmod_for /${continuance}/{,2}
    actor2:Entity+ = (<xcomp /${pos_verbs}/)? (>nmod_for)? >/nmod_agent|nmod_by/ /${continuance}/{,2}

- name: "${label}-syntax-establish-1"
  example: "DCM and FEMA established a relationship"
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^N/]
    actor:Entity+ = (<dobj /${pos_verbs}/)? >nsubj /${continuance}/{,2}

- name: "${label}-syntax-establish-2"
  example: "DCM established a relationship with FEMA"
  label: ${label}
  action: ${eventAction}
  pattern: |
    trigger = [lemma=/^(${trigger})/ & tag=/^N/]
    actor1:Entity+ = (</.+/ | >/.+/)*
    actor2:Entity+ = (</.+/ | >/.+/)*

###############
# TOKEN RULES #
###############

- name: "${label}-token-noun-team-1"
  example: "A team of resource professionals from the Cape  Fear  River  Watch and  UNC  Wilmington conducted  a  follow-up  field investigation of the identified degradation issues."
  type: token
  label: ${label}
  action: ${eventAction}
  pattern: |
    (?<trigger> [lemma=/^(${trigger})/ & tag=/^N/])
    (consisting? of|including)
    ([tag=/NNS?/]+ from)?
    [tag=DT]* @actor:Entity
    (("," [tag=DT]* @actor:Entity)*
    ","? (and | as well as) [tag=DT]* @actor:Entity)?

- name: "${label}-token-verb-represent-1a"
  example: "Participants represented the National Drought Mitigation Center and NIDIS."
  type: token
  label: ${label}
  action: ${eventAction}
  pattern: |
    [lemma=participant] (?<trigger> [lemma=represent & tag=/^V/])
    [tag=DT]* @actor:Entity
    (("," [tag=DT]* @actor:Entity)*
    ","? (and | as well as) [tag=DT]* @actor:Entity)?

- name: "${label}-token-verb-represent-1b"
  example: "The National Drought Mitigation Center and NIDIS were represented by the participants."
  type: token
  label: ${label}
  action: ${eventAction}
  pattern: |
    [tag=DT]* @actor:Entity
    (("," [tag=DT]* @actor:Entity)*
    ","? (and | as well as) [tag=DT]* @actor:Entity)?
    [lemma=be & tag=/^VBD/] (?<trigger> [lemma=represent & tag=/^VB[DN]/])
    by the? [lemma=participant]

- name: "${label}-partners-token"
  example: "Partners: East Carolina University, NC Sea Grant"
  label: ${label}
  action: ${eventAction}
  type: token
  pattern: |
    (?<trigger> [lemma=/member|partner|participant/] [lemma=organization]?) (":" | [lemma=include])
    [tag=DT]* @actor:Entity
    (("," [tag=DT]* @actor:Entity)*
    ","? (and | as well as)? [tag=DT]* @actor:Entity)?

- name: "${label}-token-establish"
  example: "DCM established a relationship with FEMA"
  label: ${label}
  action: ${eventAction}
  type: token
  pattern: |
    [tag=DT]* @actor:Entity
    (("," [tag=DT]* @actor:Entity)*
    ","? (and | as well as)? [tag=DT]* @actor:Entity)?
    /${pos_verbs}/ [tag=DT]* [tag=JJ]*
    (?<trigger> [lemma=/^(${trigger})/])
    [tag=DT]* @actor:Entity
    (("," [tag=DT]* @actor:Entity)*
    ","? (and | as well as)? [tag=DT]* @actor:Entity)?
